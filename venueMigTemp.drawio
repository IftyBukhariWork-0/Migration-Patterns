<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36" version="28.2.8" pages="2">
  <diagram id="erdPage" name="ERD – Venue Migration Pattern Model">
    <mxGraphModel dx="1665" dy="751" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2200" pageHeight="1400" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="region" value="&lt;b&gt;Region&lt;/b&gt;&lt;br/&gt;PK: region_id (UUID)&lt;br/&gt;name (string)&lt;br/&gt;timezone (string)" style="whiteSpace=wrap;html=1;rounded=1;strokeColor=#111111;fillColor=#f7f7f7;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="120" y="140" width="260" height="120" as="geometry" />
        </mxCell>
        <mxCell id="venue" value="&lt;b&gt;Venue&lt;/b&gt;&lt;br/&gt;PK: venue_id (UUID)&lt;br/&gt;FK: region_id → Region&lt;br/&gt;code (string)&lt;br/&gt;name (string)" style="whiteSpace=wrap;html=1;rounded=1;strokeColor=#111111;fillColor=#f7f7f7;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="60" y="340" width="260" height="140" as="geometry" />
        </mxCell>
        <mxCell id="venueProfile" value="&lt;b&gt;VenueProfile&lt;/b&gt;&lt;br/&gt;PK: venue_profile_id (UUID)&lt;br/&gt;FK: venue_id → Venue&lt;br/&gt;FK: migration_template_id → MigrationTemplate&lt;br/&gt;recovery_type (enum)&lt;br/&gt;multicast_policy (enum)&lt;br/&gt;notes (text)&lt;br/&gt;active (bool)" style="whiteSpace=wrap;html=1;rounded=1;strokeColor=#111111;fillColor=#f7f7f7;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="120" y="560" width="260" height="200" as="geometry" />
        </mxCell>
        <mxCell id="template" value="&lt;b&gt;MigrationTemplate&lt;/b&gt;&lt;br/&gt;PK: migration_template_id (UUID)&lt;br/&gt;name (string)&lt;br/&gt;version (semver)&lt;br/&gt;description (text)" style="whiteSpace=wrap;html=1;rounded=1;strokeColor=#111111;fillColor=#fff3cd;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="520" y="140" width="280" height="140" as="geometry" />
        </mxCell>
        <mxCell id="connPattern" value="&lt;b&gt;ConnectionPattern&lt;/b&gt;&lt;br/&gt;PK: connection_pattern_id (UUID)&lt;br/&gt;FK: migration_template_id → MigrationTemplate&lt;br/&gt;name (string)&lt;br/&gt;purpose (string)" style="whiteSpace=wrap;html=1;rounded=1;strokeColor=#111111;fillColor=#e7f3ff;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="520" y="340" width="280" height="160" as="geometry" />
        </mxCell>
        <mxCell id="appPattern" value="&lt;b&gt;ApplicationPattern&lt;/b&gt;&lt;br/&gt;PK: app_pattern_id (UUID)&lt;br/&gt;layer: L5–L7&lt;br/&gt;protocol_hint (string)&lt;br/&gt;qos (string?)" style="whiteSpace=wrap;html=1;rounded=1;strokeColor=#111111;fillColor=#ffffff;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="860" y="260" width="270" height="130" as="geometry" />
        </mxCell>
        <mxCell id="netPattern" value="&lt;b&gt;NetworkPattern&lt;/b&gt;&lt;br/&gt;PK: net_pattern_id (UUID)&lt;br/&gt;layer: L1–L4&lt;br/&gt;transport (TCP|UDP)&lt;br/&gt;unicast_multicast (uni|multi)&lt;br/&gt;port_strategy (string)" style="whiteSpace=wrap;html=1;rounded=1;strokeColor=#111111;fillColor=#ffffff;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="860" y="420" width="270" height="160" as="geometry" />
        </mxCell>
        <mxCell id="netProfile" value="&lt;b&gt;NetworkProfile&lt;/b&gt;&lt;br/&gt;PK: net_profile_id (UUID)&lt;br/&gt;mtu (int?)&lt;br/&gt;dscp_qos (string?)&lt;br/&gt;bandwidth_cap (string?)" style="whiteSpace=wrap;html=1;rounded=1;strokeColor=#111111;fillColor=#eef7ff;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1200" y="220" width="260" height="130" as="geometry" />
        </mxCell>
        <mxCell id="secProfile" value="&lt;b&gt;SecurityProfile&lt;/b&gt;&lt;br/&gt;PK: sec_profile_id (UUID)&lt;br/&gt;tls_required (bool)&lt;br/&gt;firewall_policy (string?)&lt;br/&gt;cert_ref (string?)" style="whiteSpace=wrap;html=1;rounded=1;strokeColor=#111111;fillColor=#eef7ff;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1200" y="370" width="260" height="130" as="geometry" />
        </mxCell>
        <mxCell id="credProfile" value="&lt;b&gt;CredentialProfile&lt;/b&gt;&lt;br/&gt;PK: cred_profile_id (UUID)&lt;br/&gt;account_ref (string)&lt;br/&gt;rotation_policy (string?)&lt;br/&gt;vault_path (string?)" style="whiteSpace=wrap;html=1;rounded=1;strokeColor=#111111;fillColor=#eef7ff;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1200" y="520" width="260" height="130" as="geometry" />
        </mxCell>
        <mxCell id="connInstance" value="&lt;b&gt;ConnectionInstance&lt;/b&gt;&lt;br/&gt;PK: connection_instance_id (UUID)&lt;br/&gt;FK: venue_id → Venue&lt;br/&gt;FK: connection_pattern_id → ConnectionPattern&lt;br/&gt;status (enum)&lt;br/&gt;effective_config (json)" style="whiteSpace=wrap;html=1;rounded=1;strokeColor=#111111;fillColor=#dff7df;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="520" y="560" width="280" height="180" as="geometry" />
        </mxCell>
        <mxCell id="source" value="&lt;b&gt;IntegrationSource&lt;/b&gt; (AMDB/IMDB)&lt;br/&gt;PK: source_id (UUID)&lt;br/&gt;name (string)&lt;br/&gt;type (enum)" style="whiteSpace=wrap;html=1;rounded=1;strokeColor=#111111;fillColor=#f0eaff;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="860" y="620" width="270" height="120" as="geometry" />
        </mxCell>
        <mxCell id="venueMig" value="&lt;b&gt;VenueMigrationPattern&lt;/b&gt;&lt;br/&gt;PK: venue_migration_id (UUID)&lt;br/&gt;FK: venue_id → Venue&lt;br/&gt;snapshot_version (semver)&lt;br/&gt;created_at (datetime)" style="whiteSpace=wrap;html=1;rounded=1;strokeColor=#111111;fillColor=#fff0e1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="120" y="800" width="260" height="150" as="geometry" />
        </mxCell>
        <mxCell id="edge_region_venue" style="edgeStyle=entityRelationEdgeStyle;endArrow=ERcrowfootMany;startArrow=ERone;startFill=0;endFill=0;strokeColor=#333333;fontSize=11;entryX=1.008;entryY=0.1;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="region" target="venue" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge_venue_profile" value="1..N (history; active flag marks current)" style="edgeStyle=entityRelationEdgeStyle;startArrow=ERone;endArrow=ERcrowfootMany;startFill=0;endFill=0;strokeColor=#333333;fontSize=10;" parent="1" source="venue" target="venueProfile" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge_template_profile" style="edgeStyle=entityRelationEdgeStyle;startArrow=ERone;endArrow=ERcrowfootMany;startFill=0;endFill=0;strokeColor=#333333;" parent="1" source="template" target="venueProfile" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge_template_patterns" style="edgeStyle=entityRelationEdgeStyle;startArrow=ERone;endArrow=ERcrowfootMany;startFill=0;endFill=0;strokeColor=#333333;" parent="1" source="template" target="connPattern" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge_cp_app" value="uses" style="edgeStyle=orthogonalEdgeStyle;startArrow=ERone;endArrow=ERone;startFill=0;endFill=0;strokeColor=#333333;fontSize=10;" parent="1" source="connPattern" target="appPattern" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge_cp_net" value="uses" style="edgeStyle=orthogonalEdgeStyle;startArrow=ERone;endArrow=ERone;startFill=0;endFill=0;strokeColor=#333333;fontSize=10;" parent="1" source="connPattern" target="netPattern" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge_cp_netprof" value="0..1" style="edgeStyle=orthogonalEdgeStyle;startArrow=ERzeroToOne;endArrow=ERone;startFill=0;endFill=0;strokeColor=#333333;fontSize=10;" parent="1" source="connPattern" target="netProfile" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge_cp_secprof" value="0..1" style="edgeStyle=orthogonalEdgeStyle;startArrow=ERzeroToOne;endArrow=ERone;startFill=0;endFill=0;strokeColor=#333333;fontSize=10;" parent="1" source="connPattern" target="secProfile" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge_cp_credprof" value="0..1" style="edgeStyle=orthogonalEdgeStyle;startArrow=ERzeroToOne;endArrow=ERone;startFill=0;endFill=0;strokeColor=#333333;fontSize=10;" parent="1" source="connPattern" target="credProfile" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge_venue_instance" style="edgeStyle=entityRelationEdgeStyle;startArrow=ERone;endArrow=ERcrowfootMany;startFill=0;endFill=0;strokeColor=#333333;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="320" y="440" as="sourcePoint" />
            <mxPoint x="520" y="680" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="edge_cp_instance" style="edgeStyle=entityRelationEdgeStyle;startArrow=ERone;endArrow=ERcrowfootMany;startFill=0;endFill=0;strokeColor=#333333;" parent="1" source="connPattern" target="connInstance" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge_source_instance" value="parameterizes" style="edgeStyle=entityRelationEdgeStyle;startArrow=ERone;endArrow=ERcrowfootMany;startFill=0;endFill=0;strokeColor=#333333;fontSize=10;" parent="1" source="source" target="connInstance" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge_venue_vmig" value="active snapshot" style="edgeStyle=entityRelationEdgeStyle;startArrow=ERone;endArrow=ERone;startFill=0;endFill=0;strokeColor=#333333;fontSize=10;" parent="1" source="venue" target="venueMig" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge_vmig_instances" value="comprises" style="edgeStyle=entityRelationEdgeStyle;startArrow=ERone;endArrow=ERcrowfootMany;startFill=0;endFill=0;strokeColor=#333333;fontSize=10;" parent="1" source="venueMig" target="connInstance" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="lifecyclePage" name="Lifecycle – Design to Audit">
    <mxGraphModel dx="1400" dy="900" grid="1" gridSize="10" page="1" pageScale="1" pageWidth="2200" pageHeight="1400">
      <root>
        <mxCell id="lc0" />
        <mxCell id="lc1" parent="lc0" />
        <mxCell id="actor_arch" value="&lt;b&gt;Architect&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#111111;fillColor=#f7f7f7;" vertex="1" parent="lc1">
          <mxGeometry x="120" y="160" width="220" height="80" as="geometry" />
        </mxCell>
        <mxCell id="obj_template" value="&lt;b&gt;MigrationTemplate&lt;/b&gt;&lt;br/&gt;Design (select patterns &amp;amp; profiles)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#111111;fillColor=#fff3cd;" vertex="1" parent="lc1">
          <mxGeometry x="420" y="140" width="300" height="120" as="geometry" />
        </mxCell>
        <mxCell id="obj_patterns" value="&lt;b&gt;ConnectionPattern(s)&lt;/b&gt;&lt;br/&gt;Reference App/Net patterns" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#111111;fillColor=#e7f3ff;" vertex="1" parent="lc1">
          <mxGeometry x="780" y="140" width="300" height="120" as="geometry" />
        </mxCell>
        <mxCell id="obj_operator" value="&lt;b&gt;Operator / CI-CD&lt;/b&gt;&lt;br/&gt;Apply for Venue (via VenueProfile)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#111111;fillColor=#f0fff0;" vertex="1" parent="lc1">
          <mxGeometry x="420" y="340" width="300" height="120" as="geometry" />
        </mxCell>
        <mxCell id="obj_integration" value="&lt;b&gt;Integration&lt;/b&gt;&lt;br/&gt;(AMDB / IMDB)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#111111;fillColor=#f0eaff;" vertex="1" parent="lc1">
          <mxGeometry x="780" y="340" width="300" height="120" as="geometry" />
        </mxCell>
        <mxCell id="obj_instance" value="&lt;b&gt;ConnectionInstance(s)&lt;/b&gt;&lt;br/&gt;Parameterized &amp;amp; applied" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#111111;fillColor=#dff7df;" vertex="1" parent="lc1">
          <mxGeometry x="1140" y="340" width="300" height="120" as="geometry" />
        </mxCell>
        <mxCell id="obj_dashboard" value="&lt;b&gt;MigrationDashboard&lt;/b&gt;&lt;br/&gt;Status / Phases" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#111111;fillColor=#eef7ff;" vertex="1" parent="lc1">
          <mxGeometry x="1500" y="320" width="300" height="120" as="geometry" />
        </mxCell>
        <mxCell id="obj_audit" value="&lt;b&gt;Audit Log&lt;/b&gt;&lt;br/&gt;Evidence (who/when/what/diff)" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#111111;fillColor=#fff0e1;" vertex="1" parent="lc1">
          <mxGeometry x="1500" y="500" width="300" height="120" as="geometry" />
        </mxCell>
        <!-- Arrows -->
        <mxCell id="lc_e1" value="Design" style="endArrow=block;strokeColor=#333333;" edge="1" parent="lc1" source="actor_arch" target="obj_template">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lc_e2" value="References" style="endArrow=block;strokeColor=#333333;" edge="1" parent="lc1" source="obj_template" target="obj_patterns">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lc_e3" value="Apply for Venue" style="endArrow=block;strokeColor=#333333;" edge="1" parent="lc1" source="actor_arch" target="obj_operator">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lc_e4" value="Fetch metadata" style="endArrow=block;strokeColor=#333333;" edge="1" parent="lc1" source="obj_operator" target="obj_integration">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lc_e5" value="Normalized data" style="endArrow=block;strokeColor=#333333;" edge="1" parent="lc1" source="obj_integration" target="obj_operator">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lc_e6" value="Create &amp; reconcile" style="endArrow=block;strokeColor=#333333;" edge="1" parent="lc1" source="obj_operator" target="obj_instance">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lc_e7" value="Status / Phase" style="endArrow=block;strokeColor=#333333;" edge="1" parent="lc1" source="obj_instance" target="obj_dashboard">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lc_e8" value="Evidence" style="endArrow=block;strokeColor=#333333;" edge="1" parent="lc1" source="obj_operator" target="obj_audit">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lc_e9" value="Final spec/outcome" style="endArrow=block;strokeColor=#333333;" edge="1" parent="lc1" source="obj_instance" target="obj_audit">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
